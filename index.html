<!DOCTYPE html>
<html>
<head>
  <title>ARãƒ†ã‚¹ãƒˆ - ä¿®æ­£ç‰ˆ</title>
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
  <!-- æ–°ã—ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®AR.jsã‚’ä½¿ç”¨ -->
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
</head>
<body style="margin: 0;">
  
  <!-- ãƒ‡ãƒãƒƒã‚°æƒ…å ±è¡¨ç¤º -->
  <div style="position: fixed; top: 10px; left: 10px; color: white; background: rgba(0,0,0,0.8); padding: 10px; z-index: 1000; font-family: Arial;">
    <div>ğŸ” Hiroãƒãƒ¼ã‚«ãƒ¼ã‚’æ˜ ã—ã¦ãã ã•ã„</div>
    <div id="status">çŠ¶æ…‹: èª­ã¿è¾¼ã¿ä¸­...</div>
  </div>

  <a-scene 
    embedded 
    arjs='sourceType: webcam; debugUIEnabled: true;'
    vr-mode-ui="enabled: false"
    renderer="logarithmicDepthBuffer: true;"
  >
    <!-- Hiroãƒãƒ¼ã‚«ãƒ¼ -->
    <a-marker preset='hiro' emitevents="true" id="hiro-marker">
      <a-box 
        position='0 0.5 0' 
        material='color: red;' 
        scale='1 1 1'
        id="target-object"
      ></a-box>
    </a-marker>
    
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    // ãƒ‡ãƒãƒƒã‚°ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    document.addEventListener('DOMContentLoaded', function() {
      console.log('âœ… ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†');
      
      const scene = document.querySelector('a-scene');
      const marker = document.querySelector('#hiro-marker');
      const statusDiv = document.querySelector('#status');
      
      scene.addEventListener('loaded', function() {
        console.log('âœ… A-Frameã‚·ãƒ¼ãƒ³èª­ã¿è¾¼ã¿å®Œäº†');
        statusDiv.textContent = 'çŠ¶æ…‹: ã‚«ãƒ¡ãƒ©èµ·å‹•å¾…ã¡...';
      });
      
      // ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºã‚¤ãƒ™ãƒ³ãƒˆ
      marker.addEventListener('markerFound', function() {
        console.log('ğŸ¯ ãƒãƒ¼ã‚«ãƒ¼ã‚’æ¤œå‡ºã—ã¾ã—ãŸï¼');
        statusDiv.textContent = 'çŠ¶æ…‹: ãƒãƒ¼ã‚«ãƒ¼æ¤œå‡ºä¸­ âœ…';
        statusDiv.style.color = 'lightgreen';
      });
      
      marker.addEventListener('markerLost', function() {
        console.log('âŒ ãƒãƒ¼ã‚«ãƒ¼ã‚’è¦‹å¤±ã„ã¾ã—ãŸ');
        statusDiv.textContent = 'çŠ¶æ…‹: ãƒãƒ¼ã‚«ãƒ¼ã‚’æ¢ã—ã¦ã„ã¾ã™...';
        statusDiv.style.color = 'white';
      });
    });
  </script>
</body>
</html>
